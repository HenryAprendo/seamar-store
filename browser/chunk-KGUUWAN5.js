import{a as V}from"./chunk-KQJNUCAE.js";import"./chunk-JSWKQIWH.js";import{a as S,b as E,c as I,d as w,e as N,g as T,h as z,l as D,m as G}from"./chunk-IMCTS6RA.js";import{b as O,d as P}from"./chunk-MC7COL5T.js";import{Aa as p,Ba as u,Ca as g,F as b,Fa as a,Ga as r,Ha as x,Ia as F,Ja as _,Na as m,Q as d,Ra as y,T as v,hb as M,i as h,ma as l,sa as C,ya as c}from"./chunk-3KDDWWSS.js";import{a as f}from"./chunk-2XJVAMHT.js";function q(t,n){if(t&1&&(a(0,"p"),m(1,"This field is required"),r()),t&2){let s=_(2);u("error_message",s.nameFieldInvalid)}}function R(t,n){if(t&1&&(a(0,"div",8),c(1,q,2,2,"p",11),r()),t&2){let s=_();l(),g(1,s.nameField!=null&&s.nameField.hasError("required")?1:-1)}}var W=(()=>{let n=class n{constructor(){this.route=d(O),this.router=d(P),this.fb=d(D),this.categoryService=d(V),this.categoryId=C(-1),this.editForm=this.buildForm()}ngOnInit(){this.route.paramMap.pipe(b(i=>{let o=i.get("id"),e=o?parseInt(o):null;return e?(this.categoryId.set(e),this.categoryService.findOne(e)):h(null)})).subscribe(i=>{i&&this.editForm.patchValue(i)})}edit(){let i=this.editForm.value;this.editForm.valid&&this.categoryService.update(this.categoryId(),f({},i)).subscribe(()=>this.router.navigate(["admin/category/list"]))}get nameField(){return this.editForm.get("name")}get nameFieldInvalid(){return this.nameField?.invalid&&this.nameField.touched}buildForm(){return this.fb.group({name:["",[E.required]]})}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=v({type:n,selectors:[["app-edit-category"]],standalone:!0,features:[y],decls:14,vars:7,consts:[[1,"form",3,"ngSubmit","formGroup"],[1,"form_header"],[1,"form_header_content"],[1,"form_header_title"],[1,"control"],[1,"control_content"],["for","name",1,"control_label"],["id","name","name","name","type","name","placeholder","technology","formControlName","name",1,"control_input"],[1,"control_content_error"],[1,"form_content_button"],["type","submit",1,"btn_submit",3,"disabled"],[3,"error_message"]],template:function(o,e){o&1&&(a(0,"form",0),F("ngSubmit",function(){return e.edit()}),a(1,"header",1)(2,"div",2)(3,"h2",3),m(4,"Edit category"),r()()(),a(5,"div",4)(6,"div",5)(7,"label",6),m(8,"Category name"),r(),x(9,"input",7),r(),c(10,R,2,1,"div",8),r(),a(11,"div",9)(12,"button",10),m(13,"Edit category"),r()()()),o&2&&(p("formGroup",e.editForm),l(9),u("valid",e.nameField==null?null:e.nameField.valid)("invalid",e.nameFieldInvalid),l(),g(10,e.nameFieldInvalid?10:-1),l(2),p("disabled",e.editForm.invalid))},dependencies:[M,G,N,S,I,w,T,z],styles:[".form[_ngcontent-%COMP%]{max-width:50rem}.form_header[_ngcontent-%COMP%]{padding:1rem 0}.form_header_content[_ngcontent-%COMP%]{margin:3rem 0}.form_header_title[_ngcontent-%COMP%]{font-size:var(--text-lg)}.control_content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.control_label[_ngcontent-%COMP%]{font-size:var(--text-xs);font-weight:var(--semibold);margin-bottom:.3rem;letter-spacing:.1rem}.control_input[_ngcontent-%COMP%]{height:4.8rem;padding:.5rem 1rem;outline:transparent;border:1px solid #d3d3d3;border-radius:.3rem;font-size:var(--text-sm)}.control_content_error[_ngcontent-%COMP%]{padding:1rem;border:1.5px solid rgb(255,0,0);border-bottom-color:1px solid #d3d3d3;border-left-color:1px solid #d3d3d3;border-right-color:1px solid #d3d3d3}.error_message[_ngcontent-%COMP%]{font-size:var(--text-xs);font-weight:var(--semibold);color:#fa3232;letter-spacing:.2rem}.valid[_ngcontent-%COMP%]{border:1px solid rgb(0,0,255)}.invalid[_ngcontent-%COMP%]{border:1px solid rgb(250,0,0)}.blur[_ngcontent-%COMP%]{border:1px solid #d3d3d3}.form_content_button[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.btn_submit[_ngcontent-%COMP%]{width:100%;height:4.8rem;border-radius:.5rem;border:transparent;max-width:50rem;background:linear-gradient(to top right,#e66465,#9198e5)}.btn_submit[_ngcontent-%COMP%]:hover{transform:scale(.98)}"]});let t=n;return t})();export{W as EditCategoryComponent};
