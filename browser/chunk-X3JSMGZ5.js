import{a as y,b as h,c as U,d as k,e as I,g as N,h as T,l as j,m as q}from"./chunk-IMCTS6RA.js";import{d as S,e as E}from"./chunk-MC7COL5T.js";import{Aa as u,Ca as p,Fa as i,Ga as r,Ha as g,Ia as w,Ja as f,K as x,Na as o,Q as l,Qa as F,Ra as M,T as C,hb as P,ma as a,ob as O,ya as c}from"./chunk-3KDDWWSS.js";import{a as v,b}from"./chunk-2XJVAMHT.js";var _=(()=>{let e=class e{constructor(){this.http=l(O),this.apiUrl="http://localhost:3000/api/v1/user"}save(d){return this.http.post(this.apiUrl,d)}findAll(){return this.http.get(this.apiUrl)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function A(t,e){t&1&&(i(0,"p",19),o(1,"Este campo es requerido"),r())}function D(t,e){if(t&1&&(i(0,"div",11),c(1,A,2,0,"p",19),r()),t&2){let m=f();a(),p(1,m.emailField!=null&&m.emailField.hasError("required")?1:-1)}}function G(t,e){t&1&&(i(0,"p",19),o(1,"Este campo es requerido"),r())}function R(t,e){if(t&1&&(i(0,"div",11),c(1,G,2,0,"p",19),r()),t&2){let m=f();a(),p(1,m.passwordField!=null&&m.passwordField.hasError("required")?1:-1)}}var ee=(()=>{let e=class e{constructor(){this.fb=l(j),this.userService=l(_),this.router=l(S),this.createForm=this.buildForm()}ngOnInit(){}saveUser(){let d=b(v({},this.createForm.value),{role:"admin"});this.createForm.valid?this.userService.save(d).subscribe({next:n=>{n&&this.router.navigate(["./auth/login"])},error:n=>{console.log(n)}}):this.createForm.markAllAsTouched()}buildForm(){return this.fb.group({email:["",[h.required]],password:["",[h.required]]})}get emailField(){return this.createForm.get("email")}get emailFieldInvalid(){return this.emailField?.invalid&&this.emailField.touched}get passwordField(){return this.createForm.get("password")}get passwordFieldInvalid(){return this.passwordField?.invalid&&this.passwordField.touched}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=C({type:e,selectors:[["app-create-user"]],standalone:!0,features:[F([_]),M],decls:29,vars:4,consts:[[1,"content_main"],[1,"form",3,"ngSubmit","formGroup"],[1,"form_header"],[1,"form_header_content"],[1,"form_header_title"],[1,"material-symbols-outlined"],[1,"form_controls"],[1,"control"],[1,"control_content"],["for","email-address",1,"control_label"],["id","email-address","name","email","type","email","placeholder","username@gmail.com","formControlName","email",1,"control_input"],[1,"control_content_error"],["for","password",1,"control_label"],["id","password","name","password","type","password","placeholder","********","formControlName","password",1,"control_input"],[1,"form_content_button"],["type","submit",1,"btn_submit",3,"disabled"],[1,"redirect"],[1,"redirect_info"],["routerLink","../login",1,"redirect_link"],[1,"error_message"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"form",1),w("ngSubmit",function(){return s.saveUser()}),i(2,"header",2)(3,"div",3)(4,"h2",4),o(5,"Sign up"),r(),i(6,"span",5),o(7,"person"),r()()(),i(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),o(12,"Email address"),r(),g(13,"input",10),r(),c(14,D,2,1,"div",11),r(),i(15,"div",7)(16,"div",8)(17,"label",12),o(18,"Password"),r(),g(19,"input",13),r(),c(20,R,2,1,"div",11),r()(),i(21,"div",14)(22,"button",15),o(23,"Register user"),r()(),i(24,"div",16)(25,"span",17),o(26,"If you are registered. "),r(),i(27,"a",18),o(28,"Log in here."),r()()()()),n&2&&(a(),u("formGroup",s.createForm),a(13),p(14,s.emailFieldInvalid?14:-1),a(6),p(20,s.passwordFieldInvalid?20:-1),a(2),u("disabled",s.createForm.invalid))},dependencies:[P,q,I,y,U,k,N,T,E],styles:[".content_main[_ngcontent-%COMP%]{padding:1rem;margin:0 auto;min-height:95vh;max-width:50rem}.form[_ngcontent-%COMP%]{width:auto;border:1px solid #d3d3d3;padding:3rem 2rem 2.5rem;margin-top:10vh;border-radius:1rem;box-shadow:0 2px 10px 1px #0003}.form_header[_ngcontent-%COMP%]{margin:4rem 0;border:1px solid #d3d3d3;padding:1rem}.form_header_content[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:1rem;justify-content:center}.form_header_title[_ngcontent-%COMP%]{font-size:var(--text-lg);font-weight:var(--semibold);color:brown}.control[_ngcontent-%COMP%]{margin-bottom:1rem}.control_content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.control_label[_ngcontent-%COMP%]{font-size:var(--text-xs);font-weight:var(--semibold);margin-bottom:.3rem}.control_input[_ngcontent-%COMP%]{height:4.8rem;padding:.5rem 1rem;outline:transparent;border:1px solid #d3d3d3;font-size:var(--text-sm);border-top-left-radius:1rem;border-top-right-radius:1rem}.control_content_error[_ngcontent-%COMP%]{padding:1rem;border:1.5px solid rgb(255,50,250);border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;border-bottom-color:1px solid #d3d3d3;border-left-color:1px solid #d3d3d3;border-right-color:1px solid #d3d3d3}.error_message[_ngcontent-%COMP%]{font-size:var(--text-xs);color:#f0f;font-weight:var(--semibold)}.form_content_button[_ngcontent-%COMP%]{margin-top:4rem;text-align:center}.btn_submit[_ngcontent-%COMP%]{width:100%;height:4.8rem;border-radius:.5rem;border:transparent;max-width:50rem;background:linear-gradient(to top right,#e66465,#9198e5)}.btn_submit[_ngcontent-%COMP%]:hover{transform:scale(.98)}.redirect[_ngcontent-%COMP%]{font-size:var(--text-sm);margin-top:2rem;font-weight:var(--semibold)}.redirect_link[_ngcontent-%COMP%]{color:brown}.redirect_link[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}@media screen and (min-width: 640px){.form[_ngcontent-%COMP%]{margin-top:calc(50vh - 30rem)}}@media screen and (min-width: 1024px){.content_main[_ngcontent-%COMP%]{max-width:none;margin:0;min-height:95vh;display:flex;align-items:center;justify-content:center}.form[_ngcontent-%COMP%]{width:50rem;padding:5rem;margin-top:0}}"]});let t=e;return t})();export{ee as CreateUserComponent};
